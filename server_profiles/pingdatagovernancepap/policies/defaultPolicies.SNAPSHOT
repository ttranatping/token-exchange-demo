[{"@class":"DataStreamHeader","kind":"SnapshotHeader","version":4},{"type":"SnapshotPackageFile$PackageHeader","snapshotId":"3119d017-9a1d-4e45-9326-1177ca1e5b2c","snapshotFileVersion":4,"applicationVersion":"9.0.2.0-GA"},{"objectType":"ServiceDefinition","id":"25769e5c-5b33-4daf-9780-3e09b6f32207","version":"d6dfd282-e4bf-49f2-a4f5-daf559ee74ff","type":"SERVICE","name":"PDP","fullName":"PDP","description":"PDP API endpoint service","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"STRING","serviceType":"NONE","serviceSettings":{"serviceSettingsType":"ServiceSettings","maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"retryStrategy":"BACKOFF","timeout":2000,"retries":2,"holdoff":1000,"retryJitter":10.0,"description":null,"definitions":[],"holdoffMultiplier":2.0},"secret":false},{"objectType":"ServiceDefinition","id":"c0cd2d08-7219-4ef3-a2ec-e869a4920cef","version":"90c82498-740b-428c-bc8c-1203c8929a87","type":"SERVICE","name":"SCIM2","fullName":"SCIM2","description":"SCIM 2 REST API","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"STRING","serviceType":"NONE","serviceSettings":{"serviceSettingsType":"ServiceSettings","maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"retryStrategy":"BACKOFF","timeout":2000,"retries":2,"holdoff":1000,"retryJitter":10.0,"description":null,"definitions":[],"holdoffMultiplier":2.0},"secret":false},{"objectType":"AttributeDefinition","id":"a007b39b-33ca-436c-977f-21a4831daa96","version":"73621dc7-b6ed-4419-8340-d0dfd8b61905","type":"ATTRIBUTE","name":"HttpRequest","fullName":"HttpRequest","description":"A JSON object representing the HTTP request.","parentId":null,"numberOfChildren":5,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"JSON","resolvers":[{"attributeResolverType":"request","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"ActionDefinition","id":"5c34b551-1dc4-4605-999b-6f1ec2bbe526","version":"383ed7e0-3ea1-46bb-99b8-0aaf9aeb3483","type":"ACTION","name":"authorize","fullName":"authorize","description":"Action used to authorize PDP API endpoint clients.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"cbbf13bf-0827-4d23-accc-190fb633b908","version":"708b53c0-ee5c-42fb-a764-ccbc12783c63","type":"ACTION","name":"create","fullName":"create","description":"Action used to authorize SCIM operations that create a new resource.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"4a681458-0582-4228-8eea-d563b3b5eba4","version":"8ae197b4-008a-44c1-a211-45f6a32829ef","type":"ACTION","name":"delete","fullName":"delete","description":"Action used to authorize SCIM operations that delete a resource.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"722a87ec-fdd4-4c34-85e3-b2f58525c0c3","version":"4925ed9f-e211-4a05-a1c3-03231d45afd0","type":"ACTION","name":"inbound-DELETE","fullName":"inbound-DELETE","description":"Action used when authorizing HTTP DELETE requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b357623b-15da-4781-b772-ed64a89aeabb","version":"a6b11319-9e5b-4be4-b840-4d576c87045c","type":"ACTION","name":"inbound-GET","fullName":"inbound-GET","description":"Action used to authorize HTTP GET requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"51123a74-7067-4e61-a75b-e95cf0ddb357","version":"e526b9fc-0046-4c57-ac88-2db2b7188908","type":"ACTION","name":"inbound-PATCH","fullName":"inbound-PATCH","description":"Action used to authorize HTTP PATCH requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b072d76e-0085-4423-99c2-4e16b74e88fa","version":"de2d1095-ff16-44a4-9819-ceab6ffa9c24","type":"ACTION","name":"inbound-POST","fullName":"inbound-POST","description":"Action used to authorize HTTP POST requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"c5a7e47c-ccd1-4aba-8d43-7f92c17cbf33","version":"59679363-f9d3-4088-9934-13e8ccf135ec","type":"ACTION","name":"inbound-PUT","fullName":"inbound-PUT","description":"Action used to authorize HTTP PUT requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"0338888f-fd67-45d1-9ebd-db4457a6bc09","version":"cf9bb9de-3264-4e27-951f-55267b710a63","type":"ACTION","name":"modify","fullName":"modify","description":"Action used to authorize SCIM operations that modify a resource, including both PUT and PATCH operations.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"4941d2a4-2c49-4ebb-9292-f3cccd0b8027","version":"fa6513cd-4c39-4dae-9326-ec90a43a5c36","type":"ACTION","name":"outbound-DELETE","fullName":"outbound-DELETE","description":"Action used for authorizing HTTP DELETE responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"fb80c5c9-b9fb-45be-aa1f-18e8aba0e3a6","version":"c44bf039-e3e3-4bb3-a932-3627f1971f70","type":"ACTION","name":"outbound-GET","fullName":"outbound-GET","description":"Action used to authorize HTTP GET responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b893b33d-6c0c-402b-847c-84962fbc7f4d","version":"f0e7ee16-0f2c-4a18-a1f5-e9d045cdd92c","type":"ACTION","name":"outbound-PATCH","fullName":"outbound-PATCH","description":"Action used to authorize HTTP PATCH responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"f738086a-7cb5-4cc7-8451-6bc49a6092f0","version":"aa34fd1c-43dc-4e02-bf31-5bb82019e6ba","type":"ACTION","name":"outbound-POST","fullName":"outbound-POST","description":"Action used to authorize HTTP POST responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"94d795a8-7454-4a44-9b55-bbf04fc16bcb","version":"20b87446-1798-4381-8394-4ed6403c1dea","type":"ACTION","name":"outbound-PUT","fullName":"outbound-PUT","description":"Action used to authorize HTTP PUT responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"9592ecbc-68c4-4d1a-980a-eeb6a3b4c209","version":"4f4289bb-465f-4abf-9285-30519c80e317","type":"ACTION","name":"retrieve","fullName":"retrieve","description":"Action used to authorize SCIM operations that return a resource to the client.   This action is used for SCIM GET operations as well as for authorizing responses from SCIM POST, PATCH, and PUT.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"44da9abd-3299-45b2-bc23-7e76ecfde490","version":"95261b5f-2046-4b84-8868-c3a83cb13ce0","type":"ACTION","name":"search","fullName":"search","description":"Action used to authorize a SCIM search operation before the search is performed. Advice may modify the SCIM search filter or set the policy processing mode.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b3ad7d85-cdad-4bb6-a67f-47d09d62913f","version":"dab2885d-7f68-4e5a-b65f-979df42d0ba1","type":"ACTION","name":"search-results","fullName":"search-results","description":"Action used to authorize SCIM search results in a single policy operation. Only used if an alternate policy processing mode was selected using the combine-scim-search-authorizations advice.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"AttributeDefinition","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","version":"da6b5ca0-7b7a-4fe2-a3db-3de8c6df7c0d","type":"ATTRIBUTE","name":"Headers","fullName":"HttpRequest.Headers","description":"A JSON object representing the HTTP headers that were passed with the client's HTTP request.   Each field in the object represents a header name, and the value of each field is a JSON array representing the header value(s).\n\nThis attribute is deprecated and has been replaced by the RequestHeaders attribute.","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":2,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"Headers","valueType":"JSON","name":null},"valueType":"JSON","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"618d0e40-6e74-4370-b896-7c114011667a","version":"6af00294-334e-44c6-ac51-9c5f18667a97","type":"ATTRIBUTE","name":"RequestURI","fullName":"HttpRequest.RequestURI","description":"The complete HTTP request URI.","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"RequestURI","valueType":"STRING","name":null},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"70f94c27-358f-4a20-a968-43799acd3d1b","version":"d0eadd78-5480-471b-b758-2e57839f17c9","type":"ATTRIBUTE","name":"ResourcePath","fullName":"HttpRequest.ResourcePath","description":"The path of the requested resource, relative to the base URI of the Data Governance endpoint that is processing the request.  For a SCIM request, an example path would be \"Users/abcdef\".","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"ResourcePath","valueType":"STRING","name":null},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","version":"7b6c748e-d743-48ce-8d71-42b83edcf5db","type":"ATTRIBUTE","name":"ResponseHeaders","fullName":"HttpRequest.ResponseHeaders","description":"A JSON object representing the HTTP headers that were passed with the API server's HTTP response.   Each field in the object represents a header name, and the value of each field is a JSON array representing the header value(s).","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"ResponseHeaders","valueType":"JSON","name":null},"valueType":"JSON","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"7b017331-88bd-4a50-bbf0-285801d2f393","version":"ab5330df-1b01-409b-8833-5d7720c0e93a","type":"ATTRIBUTE","name":"ResponseStatus","fullName":"HttpRequest.ResponseStatus","description":"The HTTP status code of a response returned from an API server, such as 200 or 404.","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"ResponseStatus","valueType":"NUMBER","name":null},"valueType":"NUMBER","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"ConditionDefinition","id":"cd212c60-6cf3-4156-9c17-a32162fdda6a","version":"930ba46d-02db-4233-a4e2-1634c3612fbf","type":"CONDITION","name":"Any Inbound Request","fullName":"Any Inbound Request","description":"Matches requests with inbound REST actions.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"or":{"conditions":[{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"722a87ec-fdd4-4c34-85e3-b2f58525c0c3"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"b357623b-15da-4781-b772-ed64a89aeabb"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"51123a74-7067-4e61-a75b-e95cf0ddb357"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"b072d76e-0085-4423-99c2-4e16b74e88fa"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"c5a7e47c-ccd1-4aba-8d43-7f92c17cbf33"}}}}]}}},{"objectType":"ConditionDefinition","id":"3ca55ccd-cf36-4e24-be42-5eb4d54e6466","version":"9ee60b02-615c-4308-b119-009a3a2cc56b","type":"CONDITION","name":"Any Outbound Request","fullName":"Any Outbound Request","description":"Matches requests with outbound REST actions.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"or":{"conditions":[{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"4941d2a4-2c49-4ebb-9292-f3cccd0b8027"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"fb80c5c9-b9fb-45be-aa1f-18e8aba0e3a6"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"b893b33d-6c0c-402b-847c-84962fbc7f4d"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"f738086a-7cb5-4cc7-8451-6bc49a6092f0"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"94d795a8-7454-4a44-9b55-bbf04fc16bcb"}}}}]}}},{"objectType":"ConditionDefinition","id":"5d9208da-b746-4b0d-b741-b6eabc66e71c","version":"6f74ce47-6931-49e8-a777-c4ca210c535b","type":"CONDITION","name":"Any SCIM or OpenBanking Request","fullName":"Any SCIM or OpenBanking Request","description":"Matches requests with SCIM or OpenBanking actions.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"or":{"conditions":[{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"cbbf13bf-0827-4d23-accc-190fb633b908"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"4a681458-0582-4228-8eea-d563b3b5eba4"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"0338888f-fd67-45d1-9ebd-db4457a6bc09"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"9592ecbc-68c4-4d1a-980a-eeb6a3b4c209"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"44da9abd-3299-45b2-bc23-7e76ecfde490"}}}}]}}},{"objectType":"AttributeDefinition","id":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","version":"dbce8d0b-1009-4d39-b29c-45a3bb849654","type":"ATTRIBUTE","name":"Authorization","fullName":"HttpRequest.Headers.Authorization","description":"","parentId":"4d1cabb6-692d-45f1-8c25-7443163c3be6","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"$.Authorization","valueType":"JSON","name":""},"valueType":"COLLECTION","resolvers":[{"attributeResolverType":"attribute","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"354ae71a-f26d-4449-aa8b-f203c1e92d08","version":"090fd1a1-da4a-43a7-874d-c4fbd19785cb","type":"ATTRIBUTE","name":"leaf","fullName":"HttpRequest.ResourcePath.leaf","description":"The leaf segment of the Resource URI.","parentId":"70f94c27-358f-4a20-a968-43799acd3d1b","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"substring(lastIndexOf('/') + 1)","valueType":"STRING","name":null},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"70f94c27-358f-4a20-a968-43799acd3d1b","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"36d9b9b1-1299-43e2-a290-021e8245dfad","version":"4c9880d1-0627-46e1-8519-d638319f60ed","type":"ATTRIBUTE","name":"Token","fullName":"HttpRequest.Headers.Token","description":"","parentId":"4d1cabb6-692d-45f1-8c25-7443163c3be6","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"{{41754fe3-8dee-4ee5-82b0-094d62aa5b92}}[0].replace(\"Bearer \", \"\")","valueType":"STRING","name":""},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"56c095e6-d8f0-41c8-884c-d6d9654a782a","version":"1167efed-f3e8-4a61-b0b0-54abd946a6f9","type":"ATTRIBUTE","name":"contentEncoded","fullName":"HttpRequest.Headers.Token.contentEncoded","description":"","parentId":"36d9b9b1-1299-43e2-a290-021e8245dfad","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"#this.split(\"\\\\.\")[1]","valueType":"STRING","name":"Get issuer from token"},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"36d9b9b1-1299-43e2-a290-021e8245dfad","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"2319f209-651e-4864-884e-cc5341a5b449","version":"5756582c-d36c-4792-9c96-7f3746f5f932","type":"ATTRIBUTE","name":"contentJSONObject","fullName":"HttpRequest.Headers.Token.contentEncoded.contentJSONObject","description":"","parentId":"56c095e6-d8f0-41c8-884c-d6d9654a782a","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"new String((T(java.util.Base64).getDecoder().decode(#this)))","valueType":"JSON","name":"Get JSON From encoded content"},"valueType":"JSON","resolvers":[{"attributeResolverType":"attribute","id":"56c095e6-d8f0-41c8-884c-d6d9654a782a","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06","version":"1df77697-2a32-46e5-8158-db6526c08c32","type":"ATTRIBUTE","name":"issuer","fullName":"HttpRequest.Headers.Token.contentEncoded.contentJSONObject.issuer","description":"","parentId":"2319f209-651e-4864-884e-cc5341a5b449","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"iss","valueType":"STRING","name":"get issuer"},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"2319f209-651e-4864-884e-cc5341a5b449","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"ServiceDefinition","id":"b747a2e8-d9d9-48ec-a811-977129cb18aa","version":"1390d658-46e9-4003-87da-a1b44d259a4d","type":"SERVICE","name":"PingFederate Token Endpoint","fullName":"PingFederate Token Endpoint","description":"","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"STRING","serviceType":"RESTFUL","serviceSettings":{"serviceSettingsType":"RestSettings","maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"retryStrategy":"FIXED","timeout":2000,"retries":2,"holdoff":1000,"retryJitter":10.0,"description":"SERVICE: RESTFUL; Verb = POST; Content Type: application/x-www-form-urlencoded","restAuthenticationType":"NONE","urlFormat":"https://pingfederate:9031/as/token.oauth2","body":"client_id=tokenexchange&client_secret=2FederateM0re&subject_token={{36d9b9b1-1299-43e2-a290-021e8245dfad}}&subject_token_type={{7b25b435-a7b6-4ff0-beda-0d8bfa189c06}}&grant_type=urn:ietf:params:oauth:grant-type:token-exchange","verb":"POST","contentType":"application/x-www-form-urlencoded","headers":[],"tlsSettings":{"tlsValidationType":"NONE","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null},"holdoffMultiplier":2.0,"authenticationAttributes":{}},"secret":false},{"objectType":"AttributeDefinition","id":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","version":"d74d3c36-2e88-4184-8f5a-32f2c443257f","type":"ATTRIBUTE","name":"TokenExchange","fullName":"TokenExchange","description":"","parentId":null,"numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"JSON","resolvers":[{"attributeResolverType":"service","id":"b747a2e8-d9d9-48ec-a811-977129cb18aa","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":60,"scopeAttributeId":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","strategy":"SCOPE_EXPIRE_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"38944753-d9a5-480d-9725-5ef079e860db","version":"233b144a-cf2b-49d5-b0f8-53926f475fc8","type":"ATTRIBUTE","name":"access_token","fullName":"TokenExchange.access_token","description":"","parentId":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"access_token","valueType":"STRING","name":""},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":60,"scopeAttributeId":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","strategy":"SCOPE_EXPIRE_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"c1548297-03b7-4d69-969f-9ed421b8d146","version":"36aadf44-7286-486f-975b-ed9aa0350caf","type":"ATTRIBUTE","name":"issuer","fullName":"TokenExchange.access_token.issuer","description":"","parentId":"38944753-d9a5-480d-9725-5ef079e860db","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"#this.split(\"\\\\.\")[1]","valueType":"STRING","name":"Get issuer from JWT"},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"38944753-d9a5-480d-9725-5ef079e860db","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"type":"SnapshotPackageFile$PackageSeparator"},{"id":"d54fcd1c-3950-4df8-a149-d97ebef43ba3","version":"26fbd77f-3ae5-45d4-b12a-5c87a9b1646b","type":"Statement","name":"Allow update of all attributes","description":"Allows a client making a POST, PUT, PATCH request to update any attribute.","shared":true,"code":"allow-attributes","appliesTo":"PERMIT","payload":"[\"*\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"f68dc8f2-87f2-4626-8eda-df4d87a64eeb","version":"042e6908-bf77-44cf-b585-c4af1ba13b6f","type":"Statement","name":"Allow update of profile attributes","description":"Allows a client making a POST, PUT, or PATCH request to update specific user profile attributes. Note that these attributes are schema-specific and may need to be changed to reflect your user schema.","shared":true,"code":"allow-attributes","appliesTo":"PERMIT","payload":"[\"uid\", \"sn\", \"givenName\", \"description\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"1c93ee51-44ec-4ad3-8bee-bc3f58a06b15","version":"d8766f8b-e09a-4312-ac97-03d20681c9fb","type":"Statement","name":"Exclude private data","description":"","shared":false,"code":"exclude-attributes","appliesTo":"ANYTHING","payload":"[\"data.private\"]","obligatory":false,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"1fc6090f-bae7-457e-87b2-828d97578879","version":"bdded9de-5e08-476d-9642-53c20f9ea792","type":"Statement","name":"Include all attributes","description":"Allows a client to read any attribute.","shared":true,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"*\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"51119f2f-ab5b-4184-8108-53daeceb834f","version":"fe4e927c-59f9-4250-9e61-6ce468572d3a","type":"Statement","name":"Include attributes permitted by scope","description":"","shared":false,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"CHANGEME\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"9d51f642-74d0-402b-9352-be5c97e16619","version":"75002a60-82c5-410a-8125-8f8ffd4ca47a","type":"Statement","name":"Include email attributes","description":"Allows to read specific email address attributes. Note that these attributes are schema-specific and may need to be changed to reflect your user schema.","shared":true,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"mail\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"c5a3b0f7-0094-4c76-9ffe-bbffe99becc8","version":"924f5e45-4164-4c57-8ec9-12728cdff828","type":"Statement","name":"Include profile attributes","description":"Allows a client to read a set of specific user profile attributes. Note that these attributes are schema-specific and may need to be changed to reflect your user schema.","shared":true,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"uid\", \"sn\", \"givenName\", \"description\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"d14656f2-4c95-420d-913d-a67d9bf3e10d","version":"f6f53fcc-4b58-4057-9ffe-8923d5a1b132","type":"Statement","name":"Insufficient Scope","description":"For use when a policy denies a request because the bearer token scopes do not authorize the client to access the requested resource.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":"{\"status\":403, \"message\":\"insufficient_scope\", \"detail\":\"Requested operation not allowed by the granted OAuth scopes.\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"cde26a38-2035-4385-bbfe-159ee1822976","version":"2f3b02bd-9b26-4352-ad16-abe4ff2e2df6","type":"Statement","name":"Invalid Token","description":"For use when a policy denies a request because the access token is inactive, expired, or otherwise invalid.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":"{\"status\":401, \"message\": \"invalid_token\", \"detail\":\"Access token is expired or otherwise invalid\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"eb5d1a2d-1dfb-4318-9fd8-fbe8bec7eb30","version":"305a2801-5e0d-42af-9f4f-05240a08438f","type":"Statement","name":"Optimize SCIM searches","description":"When included in the decision for a SCIM2 policy request with the 'search' action, directs the PingDataGovernance Server to authorize and filter search results using a single policy request with the 'search-results' action. This advice type does not require a payload.","shared":true,"code":"combine-scim-search-authorizations","appliesTo":"PERMIT","payload":"","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"c4ac0c82-9d22-492f-b36c-9aa56f6f3161","version":"e4346dbf-90f9-4db1-8084-fa4b67ae16f9","type":"Statement","name":"Unauthorized Audience","description":"For use when a policy denies a request because the access token audience is incorrect for the requested service.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":" {\"status\":403, \"message\":\"invalid_token\", \"detail\":\"The access token was issued for a different audience.\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"76295749-1b58-40c3-9b14-9eceeb6d5a79","version":"3e664e44-61ad-48eb-9c04-409253e9184e","type":"Statement","name":"Unauthorized Client","description":"For use when a policy denies a request because the client is not authorized to access the requested resource.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":" {\"status\":401,\"detail\":\"unauthorized_client\",\"message\":\"The client is not authorized to request this resource.\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"6912b305-37a7-4343-a1d1-039a6e636ba0","version":"cc007dc8-ad60-4309-8e3b-da2fcf8ac05e","type":"Statement","name":"Update Authorization Header","description":"Modifies the headers of an incoming request or outgoing response. The payload for this advice is a JSON object. The keys are the names of the headers to set, and the values are the new values of the headers. A value may be null, which will remove the header; a string, which will set the header to that value; or an array of strings, which will set the header to all of those values. If the header already exists, it will be overwritten; if it does not exist, it will be added (unless the value is null). If a payload value is an array of strings and the header supports multiple values, such as \"Accept\", PingAuthorize repeats the header for each string in the array. If a payload value is an array of strings and the header does not support multiple values, such as \"Content-Type\", PingAuthorize sends the last string in the array.","shared":false,"code":"modify-headers","appliesTo":"ANYTHING","payload":"{\"Authorization\": \"Bearer {{38944753-d9a5-480d-9725-5ef079e860db}}\", \"issuer\":\"{{7b25b435-a7b6-4ff0-beda-0d8bfa189c06}}\"}","obligatory":false,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","version":"5a826fdc-cbbb-4f33-8cbf-8f2b60e57b21","type":"Policy","targets":[],"combiningAlgorithm":{"algorithm":"PermitUnlessDeny"},"name":"SendATPolicy","description":"","shared":false,"disabled":false,"children":[],"repetitionSettings":null,"properties":[],"statements":["6912b305-37a7-4343-a1d1-039a6e636ba0"],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","version":"15708a25-55d8-4e4e-abe3-4edd3fc1cd7d","type":"PolicySet","targets":[],"combiningAlgorithm":{"algorithm":"PermitUnlessDeny"},"name":"Global Decision Point","description":"","shared":false,"disabled":false,"children":[{"id":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","type":"Policy"}],"properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"type":"SnapshotPackageFile$PackageSeparator"},{"type":"SnapshotPackageFile$EndOfPackage"},{"@class":"DataStreamFooter","digest":"6hW+4x/cUAAg321Vi3m3x0db90XZizw0ApiWXc+Kmv0="}]