[{"@class":"DataStreamHeader","kind":"SnapshotHeader","version":4},{"type":"SnapshotPackageFile$PackageHeader","snapshotId":"bc6bca3e-6696-4b38-9fb0-e2e66cd97d0c","snapshotFileVersion":4,"applicationVersion":"9.0.2.0-GA"},{"objectType":"ServiceDefinition","id":"25769e5c-5b33-4daf-9780-3e09b6f32207","version":"a4de4815-87d5-4ff1-a109-2f3a0ee2d521","type":"SERVICE","name":"PDP","fullName":"PDP","description":"PDP API endpoint service","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"STRING","serviceType":"NONE","serviceSettings":{"serviceSettingsType":"ServiceSettings","maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"retryStrategy":"BACKOFF","timeout":2000,"retries":2,"holdoff":1000,"retryJitter":10.0,"description":null,"holdoffMultiplier":2.0,"definitions":[]},"secret":false},{"objectType":"ServiceDefinition","id":"c0cd2d08-7219-4ef3-a2ec-e869a4920cef","version":"d75b18cd-8455-4c92-94f6-f87faae59c3e","type":"SERVICE","name":"SCIM2","fullName":"SCIM2","description":"SCIM 2 REST API","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"STRING","serviceType":"NONE","serviceSettings":{"serviceSettingsType":"ServiceSettings","maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"retryStrategy":"BACKOFF","timeout":2000,"retries":2,"holdoff":1000,"retryJitter":10.0,"description":null,"holdoffMultiplier":2.0,"definitions":[]},"secret":false},{"objectType":"AttributeDefinition","id":"a007b39b-33ca-436c-977f-21a4831daa96","version":"e949657e-b376-4a8f-aa27-61f299c63e31","type":"ATTRIBUTE","name":"HttpRequest","fullName":"HttpRequest","description":"A JSON object representing the HTTP request.","parentId":null,"numberOfChildren":5,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"JSON","resolvers":[{"attributeResolverType":"request","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"ActionDefinition","id":"5c34b551-1dc4-4605-999b-6f1ec2bbe526","version":"53aec06d-407e-44e3-a8a7-edf12c410147","type":"ACTION","name":"authorize","fullName":"authorize","description":"Action used to authorize PDP API endpoint clients.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"cbbf13bf-0827-4d23-accc-190fb633b908","version":"b32868a5-580e-4e6e-af60-12a6a173519c","type":"ACTION","name":"create","fullName":"create","description":"Action used to authorize SCIM operations that create a new resource.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"4a681458-0582-4228-8eea-d563b3b5eba4","version":"1e4c8abc-b194-460a-90f9-535cfaa5788a","type":"ACTION","name":"delete","fullName":"delete","description":"Action used to authorize SCIM operations that delete a resource.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"722a87ec-fdd4-4c34-85e3-b2f58525c0c3","version":"e093f7ce-ee35-4c50-99cf-d15ef4bd8fc9","type":"ACTION","name":"inbound-DELETE","fullName":"inbound-DELETE","description":"Action used when authorizing HTTP DELETE requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b357623b-15da-4781-b772-ed64a89aeabb","version":"77079dd2-8ec0-476e-a018-c3cd59b41b8a","type":"ACTION","name":"inbound-GET","fullName":"inbound-GET","description":"Action used to authorize HTTP GET requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"51123a74-7067-4e61-a75b-e95cf0ddb357","version":"6f736918-633a-42f8-bb97-5518ece2f1b0","type":"ACTION","name":"inbound-PATCH","fullName":"inbound-PATCH","description":"Action used to authorize HTTP PATCH requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b072d76e-0085-4423-99c2-4e16b74e88fa","version":"ff782468-233a-4efc-b45a-47b77b6d2e28","type":"ACTION","name":"inbound-POST","fullName":"inbound-POST","description":"Action used to authorize HTTP POST requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"c5a7e47c-ccd1-4aba-8d43-7f92c17cbf33","version":"1167bd47-c80e-46a0-997f-56bc7aa230ff","type":"ACTION","name":"inbound-PUT","fullName":"inbound-PUT","description":"Action used to authorize HTTP PUT requests.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"0338888f-fd67-45d1-9ebd-db4457a6bc09","version":"126765b3-c8c5-47b8-96fd-85f0b65a4ae4","type":"ACTION","name":"modify","fullName":"modify","description":"Action used to authorize SCIM operations that modify a resource, including both PUT and PATCH operations.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"4941d2a4-2c49-4ebb-9292-f3cccd0b8027","version":"ec2dc2a5-6952-4af8-8313-521c5c981b68","type":"ACTION","name":"outbound-DELETE","fullName":"outbound-DELETE","description":"Action used for authorizing HTTP DELETE responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"fb80c5c9-b9fb-45be-aa1f-18e8aba0e3a6","version":"83841366-0291-4401-8962-b41f7897eca8","type":"ACTION","name":"outbound-GET","fullName":"outbound-GET","description":"Action used to authorize HTTP GET responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b893b33d-6c0c-402b-847c-84962fbc7f4d","version":"58ed962b-fe8f-4b3c-b2cb-128766b9d46f","type":"ACTION","name":"outbound-PATCH","fullName":"outbound-PATCH","description":"Action used to authorize HTTP PATCH responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"f738086a-7cb5-4cc7-8451-6bc49a6092f0","version":"7d6e5fd2-9ccb-4e76-9be7-06b945c3b7d6","type":"ACTION","name":"outbound-POST","fullName":"outbound-POST","description":"Action used to authorize HTTP POST responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"94d795a8-7454-4a44-9b55-bbf04fc16bcb","version":"e1836b1b-03c1-4a47-b4ac-176c45de73c5","type":"ACTION","name":"outbound-PUT","fullName":"outbound-PUT","description":"Action used to authorize HTTP PUT responses.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"9592ecbc-68c4-4d1a-980a-eeb6a3b4c209","version":"b7fe1abd-db85-4ec4-9885-fd940a4f8bce","type":"ACTION","name":"retrieve","fullName":"retrieve","description":"Action used to authorize SCIM operations that return a resource to the client.   This action is used for SCIM GET operations as well as for authorizing responses from SCIM POST, PATCH, and PUT.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"44da9abd-3299-45b2-bc23-7e76ecfde490","version":"d81a395a-74ce-48b4-9f61-5f75b757247d","type":"ACTION","name":"search","fullName":"search","description":"Action used to authorize a SCIM search operation before the search is performed. Advice may modify the SCIM search filter or set the policy processing mode.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"ActionDefinition","id":"b3ad7d85-cdad-4bb6-a67f-47d09d62913f","version":"c4b844df-3164-4817-87cf-a71359f313dd","type":"ACTION","name":"search-results","fullName":"search-results","description":"Action used to authorize SCIM search results in a single policy operation. Only used if an alternate policy processing mode was selected using the combine-scim-search-authorizations advice.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"objectType":"AttributeDefinition","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","version":"1e78cd09-d7e9-4ebe-bbb5-e4767650ac73","type":"ATTRIBUTE","name":"Headers","fullName":"HttpRequest.Headers","description":"A JSON object representing the HTTP headers that were passed with the client's HTTP request.   Each field in the object represents a header name, and the value of each field is a JSON array representing the header value(s).\n\nThis attribute is deprecated and has been replaced by the RequestHeaders attribute.","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":2,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"Headers","valueType":"JSON","name":null},"valueType":"JSON","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"618d0e40-6e74-4370-b896-7c114011667a","version":"3380fdea-1f68-4c11-98e4-64b84b8387de","type":"ATTRIBUTE","name":"RequestURI","fullName":"HttpRequest.RequestURI","description":"The complete HTTP request URI.","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"RequestURI","valueType":"STRING","name":null},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"70f94c27-358f-4a20-a968-43799acd3d1b","version":"00750936-425e-449a-aa02-aed8a1b65c2d","type":"ATTRIBUTE","name":"ResourcePath","fullName":"HttpRequest.ResourcePath","description":"The path of the requested resource, relative to the base URI of the Data Governance endpoint that is processing the request.  For a SCIM request, an example path would be \"Users/abcdef\".","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"ResourcePath","valueType":"STRING","name":null},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","version":"92bd476d-8312-4055-be09-fc75f85aabcb","type":"ATTRIBUTE","name":"ResponseHeaders","fullName":"HttpRequest.ResponseHeaders","description":"A JSON object representing the HTTP headers that were passed with the API server's HTTP response.   Each field in the object represents a header name, and the value of each field is a JSON array representing the header value(s).","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"ResponseHeaders","valueType":"JSON","name":null},"valueType":"JSON","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"7b017331-88bd-4a50-bbf0-285801d2f393","version":"c00b66b4-eb85-4ecb-bbf9-01529e2cd631","type":"ATTRIBUTE","name":"ResponseStatus","fullName":"HttpRequest.ResponseStatus","description":"The HTTP status code of a response returned from an API server, such as 200 or 404.","parentId":"a007b39b-33ca-436c-977f-21a4831daa96","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"ResponseStatus","valueType":"NUMBER","name":null},"valueType":"NUMBER","resolvers":[{"attributeResolverType":"attribute","id":"a007b39b-33ca-436c-977f-21a4831daa96","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"ConditionDefinition","id":"cd212c60-6cf3-4156-9c17-a32162fdda6a","version":"0bf391cb-571a-40a6-bf03-af4e1753c5db","type":"CONDITION","name":"Any Inbound Request","fullName":"Any Inbound Request","description":"Matches requests with inbound REST actions.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"or":{"conditions":[{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"722a87ec-fdd4-4c34-85e3-b2f58525c0c3"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"b357623b-15da-4781-b772-ed64a89aeabb"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"51123a74-7067-4e61-a75b-e95cf0ddb357"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"b072d76e-0085-4423-99c2-4e16b74e88fa"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"c5a7e47c-ccd1-4aba-8d43-7f92c17cbf33"}}}}]}}},{"objectType":"ConditionDefinition","id":"3ca55ccd-cf36-4e24-be42-5eb4d54e6466","version":"4d6a630a-2309-4fa9-9ecf-edd4fac5ba2c","type":"CONDITION","name":"Any Outbound Request","fullName":"Any Outbound Request","description":"Matches requests with outbound REST actions.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"or":{"conditions":[{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"4941d2a4-2c49-4ebb-9292-f3cccd0b8027"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"fb80c5c9-b9fb-45be-aa1f-18e8aba0e3a6"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"b893b33d-6c0c-402b-847c-84962fbc7f4d"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"f738086a-7cb5-4cc7-8451-6bc49a6092f0"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"94d795a8-7454-4a44-9b55-bbf04fc16bcb"}}}}]}}},{"objectType":"ConditionDefinition","id":"5d9208da-b746-4b0d-b741-b6eabc66e71c","version":"b8048e00-ce7f-4ae7-b99b-374df972c09f","type":"CONDITION","name":"Any SCIM or OpenBanking Request","fullName":"Any SCIM or OpenBanking Request","description":"Matches requests with SCIM or OpenBanking actions.","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"or":{"conditions":[{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"cbbf13bf-0827-4d23-accc-190fb633b908"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"4a681458-0582-4228-8eea-d563b3b5eba4"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"0338888f-fd67-45d1-9ebd-db4457a6bc09"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"9592ecbc-68c4-4d1a-980a-eeb6a3b4c209"}}}},{"comparison":{"left":{"requestAxis":{"type":"ACTION"}},"op":"Equals","right":{"definition":{"id":"44da9abd-3299-45b2-bc23-7e76ecfde490"}}}}]}}},{"objectType":"AttributeDefinition","id":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","version":"51bfa722-b868-4a5c-94ea-89e463f6985b","type":"ATTRIBUTE","name":"Authorization","fullName":"HttpRequest.Headers.Authorization","description":"","parentId":"4d1cabb6-692d-45f1-8c25-7443163c3be6","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"$.Authorization","valueType":"JSON","name":""},"valueType":"COLLECTION","resolvers":[{"attributeResolverType":"attribute","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"354ae71a-f26d-4449-aa8b-f203c1e92d08","version":"22913c5c-d061-4c63-8136-d8a850181dd5","type":"ATTRIBUTE","name":"leaf","fullName":"HttpRequest.ResourcePath.leaf","description":"The leaf segment of the Resource URI.","parentId":"70f94c27-358f-4a20-a968-43799acd3d1b","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"substring(lastIndexOf('/') + 1)","valueType":"STRING","name":null},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"70f94c27-358f-4a20-a968-43799acd3d1b","condition":null,"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"36d9b9b1-1299-43e2-a290-021e8245dfad","version":"e7a6c59a-61c5-462e-9c81-4b731141d1f4","type":"ATTRIBUTE","name":"Token","fullName":"HttpRequest.Headers.Token","description":"","parentId":"4d1cabb6-692d-45f1-8c25-7443163c3be6","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"{{41754fe3-8dee-4ee5-82b0-094d62aa5b92}}[0].replace(\"Bearer \", \"\")","valueType":"STRING","name":""},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"56c095e6-d8f0-41c8-884c-d6d9654a782a","version":"71c81060-4f7b-4954-b562-4fec5e3e386a","type":"ATTRIBUTE","name":"contentEncoded","fullName":"HttpRequest.Headers.Token.contentEncoded","description":"","parentId":"36d9b9b1-1299-43e2-a290-021e8245dfad","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"#this.split(\"\\\\.\")[1]","valueType":"STRING","name":"Get issuer from token"},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"36d9b9b1-1299-43e2-a290-021e8245dfad","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"2319f209-651e-4864-884e-cc5341a5b449","version":"446466ca-1007-44e2-9ff5-ff2ec6b471cc","type":"ATTRIBUTE","name":"contentJSONObject","fullName":"HttpRequest.Headers.Token.contentEncoded.contentJSONObject","description":"","parentId":"56c095e6-d8f0-41c8-884c-d6d9654a782a","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"new String((T(java.util.Base64).getDecoder().decode(#this)))","valueType":"JSON","name":"Get JSON From encoded content"},"valueType":"JSON","resolvers":[{"attributeResolverType":"attribute","id":"56c095e6-d8f0-41c8-884c-d6d9654a782a","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06","version":"411d830c-7c09-40d3-9fc0-65fe6bccc5f1","type":"ATTRIBUTE","name":"issuer","fullName":"HttpRequest.Headers.Token.contentEncoded.contentJSONObject.issuer","description":"","parentId":"2319f209-651e-4864-884e-cc5341a5b449","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"iss","valueType":"STRING","name":"get issuer"},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"2319f209-651e-4864-884e-cc5341a5b449","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"objectType":"ServiceDefinition","id":"b747a2e8-d9d9-48ec-a811-977129cb18aa","version":"c252be69-7002-4cd3-885b-704cc3e86ae1","type":"SERVICE","name":"PingFederate Token Endpoint","fullName":"PingFederate Token Endpoint","description":"","parentId":null,"numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"STRING","serviceType":"RESTFUL","serviceSettings":{"serviceSettingsType":"RestSettings","maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"retryStrategy":"FIXED","timeout":2000,"retries":2,"holdoff":1000,"retryJitter":10.0,"description":"SERVICE: RESTFUL; Verb = POST; Content Type: application/x-www-form-urlencoded","restAuthenticationType":"NONE","urlFormat":"https://pingfederate:9031/as/token.oauth2","body":"client_id=tokenexchange&client_secret=2FederateM0re&subject_token={{36d9b9b1-1299-43e2-a290-021e8245dfad}}&subject_token_type={{7b25b435-a7b6-4ff0-beda-0d8bfa189c06}}&grant_type=urn:ietf:params:oauth:grant-type:token-exchange","verb":"POST","contentType":"application/x-www-form-urlencoded","headers":[],"tlsSettings":{"tlsValidationType":"NONE","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null},"holdoffMultiplier":2.0,"authenticationAttributes":{}},"secret":false},{"objectType":"AttributeDefinition","id":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","version":"3e753e55-c529-4903-8f4d-80b15baba975","type":"ATTRIBUTE","name":"TokenExchange","fullName":"TokenExchange","description":"","parentId":null,"numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":null,"valueType":"JSON","resolvers":[{"attributeResolverType":"service","id":"b747a2e8-d9d9-48ec-a811-977129cb18aa","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":60,"scopeAttributeId":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","strategy":"SCOPE_EXPIRE_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"38944753-d9a5-480d-9725-5ef079e860db","version":"6db52810-fcad-4f67-869e-e6e45568d810","type":"ATTRIBUTE","name":"access_token","fullName":"TokenExchange.access_token","description":"","parentId":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","numberOfChildren":1,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"json-path","expression":"access_token","valueType":"STRING","name":""},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":"null","repetitionSource":null,"cacheConfig":{"timeToLive":60,"scopeAttributeId":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","strategy":"SCOPE_EXPIRE_CACHING"},"secret":false},{"objectType":"AttributeDefinition","id":"c1548297-03b7-4d69-969f-9ed421b8d146","version":"adf898a7-9c46-4b45-8143-ff1ce9ea0f08","type":"ATTRIBUTE","name":"issuer","fullName":"TokenExchange.access_token.issuer","description":"","parentId":"38944753-d9a5-480d-9725-5ef079e860db","numberOfChildren":null,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"valueProcessor":{"type":"spel","expression":"#this.split(\"\\\\.\")[1]","valueType":"STRING","name":"Get issuer from JWT"},"valueType":"STRING","resolvers":[{"attributeResolverType":"attribute","id":"38944753-d9a5-480d-9725-5ef079e860db","condition":{"empty":{}},"valueProcessor":null,"name":null}],"defaultValue":null,"repetitionSource":null,"cacheConfig":{"timeToLive":0,"scopeAttributeId":null,"strategy":"NO_CACHING"},"secret":false},{"type":"SnapshotPackageFile$PackageSeparator"},{"id":"d54fcd1c-3950-4df8-a149-d97ebef43ba3","version":"ef527072-70db-4cf0-bbbb-43b27526b757","type":"Statement","name":"Allow update of all attributes","description":"Allows a client making a POST, PUT, PATCH request to update any attribute.","shared":true,"code":"allow-attributes","appliesTo":"PERMIT","payload":"[\"*\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"f68dc8f2-87f2-4626-8eda-df4d87a64eeb","version":"cdccffb7-ef3d-4500-91bf-2a3c391c64fc","type":"Statement","name":"Allow update of profile attributes","description":"Allows a client making a POST, PUT, or PATCH request to update specific user profile attributes. Note that these attributes are schema-specific and may need to be changed to reflect your user schema.","shared":true,"code":"allow-attributes","appliesTo":"PERMIT","payload":"[\"uid\", \"sn\", \"givenName\", \"description\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"1c93ee51-44ec-4ad3-8bee-bc3f58a06b15","version":"efd56036-a5bf-4c62-931c-640f9db58f58","type":"Statement","name":"Exclude private data","description":"","shared":false,"code":"exclude-attributes","appliesTo":"ANYTHING","payload":"[\"data.private\"]","obligatory":false,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"e201817e-0e6b-4c69-8c0b-73b881b21dfa","version":"9667e740-703d-4576-8ce5-309f01aafc9b","type":"Statement","name":"Filter issuer","description":"Policy advice that specifies attributes that must be excluded from a JSON response. The payload for this advice is one or more JSONPaths; either a single path, or a JSON Array of JSON Strings containing the paths. Each path represents the attributes of the response body which are to be removed from the response. If an attribute is removed, this also implies that all its descendants are removed. A single JSONPath may represent multiple attributes; all of them will be removed. This advice cannot be used on a SCIM \"modify\" request.","shared":false,"code":"exclude-attributes","appliesTo":"ANYTHING","payload":"[\"issuer\"]","obligatory":false,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"1fc6090f-bae7-457e-87b2-828d97578879","version":"9ecfeda4-7e3d-4366-b58c-a45a2b7af799","type":"Statement","name":"Include all attributes","description":"Allows a client to read any attribute.","shared":true,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"*\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"51119f2f-ab5b-4184-8108-53daeceb834f","version":"c3e42de1-6ccc-442b-87e9-07ea807b73e2","type":"Statement","name":"Include attributes permitted by scope","description":"","shared":false,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"CHANGEME\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"9d51f642-74d0-402b-9352-be5c97e16619","version":"8a16b2b5-da6d-4ebf-a9b4-97d3b3444ef6","type":"Statement","name":"Include email attributes","description":"Allows to read specific email address attributes. Note that these attributes are schema-specific and may need to be changed to reflect your user schema.","shared":true,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"mail\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"c5a3b0f7-0094-4c76-9ffe-bbffe99becc8","version":"ac32cfbf-a871-43d8-bd68-543043dca505","type":"Statement","name":"Include profile attributes","description":"Allows a client to read a set of specific user profile attributes. Note that these attributes are schema-specific and may need to be changed to reflect your user schema.","shared":true,"code":"include-attributes","appliesTo":"PERMIT","payload":"[\"uid\", \"sn\", \"givenName\", \"description\"]","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"d14656f2-4c95-420d-913d-a67d9bf3e10d","version":"6d680a0c-d288-4b73-849d-e97474715c1b","type":"Statement","name":"Insufficient Scope","description":"For use when a policy denies a request because the bearer token scopes do not authorize the client to access the requested resource.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":"{\"status\":403, \"message\":\"insufficient_scope\", \"detail\":\"Requested operation not allowed by the granted OAuth scopes.\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"cde26a38-2035-4385-bbfe-159ee1822976","version":"74d7b1bf-59fb-4039-89a7-d4cb7ceb1dbc","type":"Statement","name":"Invalid Token","description":"For use when a policy denies a request because the access token is inactive, expired, or otherwise invalid.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":"{\"status\":401, \"message\": \"invalid_token\", \"detail\":\"Access token is expired or otherwise invalid\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"eb5d1a2d-1dfb-4318-9fd8-fbe8bec7eb30","version":"0c4e8b57-e874-4000-b5f4-ceaf3c55b489","type":"Statement","name":"Optimize SCIM searches","description":"When included in the decision for a SCIM2 policy request with the 'search' action, directs the PingDataGovernance Server to authorize and filter search results using a single policy request with the 'search-results' action. This advice type does not require a payload.","shared":true,"code":"combine-scim-search-authorizations","appliesTo":"PERMIT","payload":"","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"6f18f66e-adfe-4d27-8293-5a46103e863c","version":"fc9133f5-8ee1-4df3-aed1-489a33b2508e","type":"Statement","name":"Set deny reason: Token exchange failed","description":"Advice that allows a policy writer to provide an error message containing the reason that a request has been denied.","shared":false,"code":"denied-reason","appliesTo":"ANYTHING","payload":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"Token exchange failed\"}","obligatory":false,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"c4ac0c82-9d22-492f-b36c-9aa56f6f3161","version":"9a949505-cab8-4c79-92d6-aeacdf819793","type":"Statement","name":"Unauthorized Audience","description":"For use when a policy denies a request because the access token audience is incorrect for the requested service.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":" {\"status\":403, \"message\":\"invalid_token\", \"detail\":\"The access token was issued for a different audience.\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"76295749-1b58-40c3-9b14-9eceeb6d5a79","version":"b94b1d57-26d8-463a-a1bf-3957e047ac1f","type":"Statement","name":"Unauthorized Client","description":"For use when a policy denies a request because the client is not authorized to access the requested resource.","shared":true,"code":"denied-reason","appliesTo":"DENY","payload":" {\"status\":401,\"detail\":\"unauthorized_client\",\"message\":\"The client is not authorized to request this resource.\"}","obligatory":true,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"b24ab37e-cb51-4816-86f3-0e13bee27e13","version":"67bbf987-fc70-47a5-be29-b26eba986417","type":"Target","name":"Inline target","description":"","shared":false,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"targeted":{"actions":["b357623b-15da-4781-b772-ed64a89aeabb"]}},{"id":"ba30ec12-1262-4095-9a41-8090114611cf","version":"b91f3fbc-0d89-4001-a6b2-1c2fd93ae67c","type":"Target","name":"Inline target","description":"","shared":false,"properties":[],"permissions":{"inherit":true,"rolePermissions":[]},"targeted":{"actions":["fb80c5c9-b9fb-45be-aa1f-18e8aba0e3a6"]}},{"id":"c173c59c-8d09-46da-8e8f-04e8d535bc79","version":"33a00400-54dc-4706-82e2-69e0510be54c","type":"Rule","targets":[],"name":"Filter issuer value","description":"","shared":false,"disabled":false,"effect":"PERMIT","properties":[],"statements":["e201817e-0e6b-4c69-8c0b-73b881b21dfa"],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"and":{"conditions":[{"comparison":{"left":{"attribute":{"id":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06"}},"op":"NotContains","right":{"constant":{"value":"pingone"}}}}]}}},{"id":"06cbd961-dd04-4295-b8cc-1236dfe45131","version":"052f9dd9-562e-459d-95d8-3b4a6232c948","type":"Policy","targets":[],"combiningAlgorithm":{"algorithm":"PermitUnlessDeny"},"name":"Filter rule","description":"","shared":false,"disabled":false,"children":[{"id":"c173c59c-8d09-46da-8e8f-04e8d535bc79","type":"Rule"}],"repetitionSettings":null,"properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"7a91b84d-a841-4c0a-9bab-1ed586dde5bd","version":"fe123214-e9fa-4fb9-bb61-748c7d605b9d","type":"PolicySet","targets":["ba30ec12-1262-4095-9a41-8090114611cf"],"combiningAlgorithm":{"algorithm":"PermitOverrides"},"name":"Outbound","description":"","shared":false,"disabled":false,"children":[{"id":"06cbd961-dd04-4295-b8cc-1236dfe45131","type":"Policy"}],"properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"30bb9b2b-bb6a-4739-89e5-c6fef0f14975","version":"85161ccc-d433-40f6-b46c-513e116b4fe5","type":"Rule","targets":[],"name":"Validate access token exchanged","description":"","shared":false,"disabled":false,"effect":"DENY","properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"and":{"conditions":[{"comparison":{"left":{"attribute":{"id":"38944753-d9a5-480d-9725-5ef079e860db"}},"op":"NotContains","right":{"constant":{"value":"."}}}}]}}},{"id":"6912b305-37a7-4343-a1d1-039a6e636ba0","version":"24f1fcd8-de4c-453c-94e7-5ab5a9ef31b8","type":"Statement","name":"Update Authorization Header","description":"Modifies the headers of an incoming request or outgoing response. The payload for this advice is a JSON object. The keys are the names of the headers to set, and the values are the new values of the headers. A value may be null, which will remove the header; a string, which will set the header to that value; or an array of strings, which will set the header to all of those values. If the header already exists, it will be overwritten; if it does not exist, it will be added (unless the value is null). If a payload value is an array of strings and the header supports multiple values, such as \"Accept\", PingAuthorize repeats the header for each string in the array. If a payload value is an array of strings and the header does not support multiple values, such as \"Content-Type\", PingAuthorize sends the last string in the array.","shared":false,"code":"modify-headers","appliesTo":"ANYTHING","payload":"{\"Authorization\": \"Bearer {{38944753-d9a5-480d-9725-5ef079e860db}}\", \"issuer\":\"{{7b25b435-a7b6-4ff0-beda-0d8bfa189c06}}\"}","obligatory":false,"attributes":[],"services":[],"permissions":{"inherit":true,"rolePermissions":[]}},{"id":"703e1794-0b02-47a8-b305-74d3606be298","version":"7cb4d3f3-f7c8-4bc2-a31f-2e20cb77a96e","type":"Policy","targets":[],"combiningAlgorithm":{"algorithm":"DenyOverrides"},"name":"Validate token exchanged","description":"","shared":false,"disabled":false,"children":[{"id":"30bb9b2b-bb6a-4739-89e5-c6fef0f14975","type":"Rule"}],"repetitionSettings":null,"properties":[],"statements":["6f18f66e-adfe-4d27-8293-5a46103e863c"],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","version":"99e65dca-bca5-4bd0-9745-cacbc5aac247","type":"Policy","targets":[],"combiningAlgorithm":{"algorithm":"PermitUnlessDeny"},"name":"SendATPolicy","description":"","shared":false,"disabled":false,"children":[],"repetitionSettings":null,"properties":[],"statements":["6912b305-37a7-4343-a1d1-039a6e636ba0"],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"416ba769-c7cb-4fa7-822c-f7fe4ecf3f6e","version":"d4e22177-9d5f-4af4-9f59-8cf924980314","type":"PolicySet","targets":["b24ab37e-cb51-4816-86f3-0e13bee27e13"],"combiningAlgorithm":{"algorithm":"DenyOverrides"},"name":"Inbound","description":"","shared":false,"disabled":false,"children":[{"id":"703e1794-0b02-47a8-b305-74d3606be298","type":"Policy"},{"id":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","type":"Policy"}],"properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"f52f190c-68b6-4a27-8bf4-00e615ff34a2","version":"1223c953-89d7-4f80-9b62-fd28432a488e","type":"PolicySet","targets":[],"combiningAlgorithm":{"algorithm":"DenyOverrides"},"name":"Token Exchange Policy","description":"","shared":false,"disabled":false,"children":[{"id":"416ba769-c7cb-4fa7-822c-f7fe4ecf3f6e","type":"PolicySet"},{"id":"7a91b84d-a841-4c0a-9bab-1ed586dde5bd","type":"PolicySet"}],"properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"id":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","version":"6c651867-953d-4caa-a72a-839a3b1e1ca5","type":"PolicySet","targets":[],"combiningAlgorithm":{"algorithm":"DenyOverrides"},"name":"Global Decision Point","description":"","shared":false,"disabled":false,"children":[{"id":"f52f190c-68b6-4a27-8bf4-00e615ff34a2","type":"PolicySet"}],"properties":[],"statements":[],"permissions":{"inherit":true,"rolePermissions":[]},"condition":{"empty":{}}},{"type":"SnapshotPackageFile$PackageSeparator"},{"type":"SnapshotPackageFile$EndOfPackage"},{"@class":"DataStreamFooter","digest":"5GhHXGRyEedYxyr9nSeDhicPmnfC92jrU7kqvQ0ii9Q="}]