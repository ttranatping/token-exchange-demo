[{"class":"Package","id":"5a07019c-8b5c-4775-ab80-1e38c23c100f","name":"Committing consolidated JWKS endpoint","deploymentPackageVersion":1,"applicationName":"Symphonic admin-point-application","applicationVersion":"9.0.2.0-GA","dateCreated":"2022-08-18T05:44:39.267071Z","createdBy":"admin","snapshotId":"f988c26a-1e61-435e-a373-c2c04b164e15","snapshotMessage":"Completed consolidated JWKS endpoint","snapshotDateCommitted":"2022-08-18T05:44:03.393844Z","rootEntityId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","rootEntityName":"Global Decision Point","enabledFeatures":[],"customProperties":{}},{"class":"AttributeDefinition","id":"a007b39b-33ca-436c-977f-21a4831daa96","name":"HttpRequest","resolvers":[{"class":"request","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AlwaysTrueNode","id":"4c526b0b-d781-357a-a6ef-0cd18062e00d"},{"class":"AttributeDefinition","id":"4d1cabb6-692d-45f1-8c25-7443163c3be6","name":"HttpRequest.Headers","resolvers":[{"class":"attribute","attributeDefinitionId":"a007b39b-33ca-436c-977f-21a4831daa96","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"Headers"}]}},{"type":"coerce","valueType":"JSON"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","name":"HttpRequest.Headers.Authorization","resolvers":[{"class":"attribute","attributeDefinitionId":"4d1cabb6-692d-45f1-8c25-7443163c3be6","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.Authorization"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"36d9b9b1-1299-43e2-a290-021e8245dfad","name":"HttpRequest.Headers.Token","resolvers":[{"class":"attribute","attributeDefinitionId":"4d1cabb6-692d-45f1-8c25-7443163c3be6","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"Interpolation","hole":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"[0].replace(\"Bearer \", \"\")"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"56c095e6-d8f0-41c8-884c-d6d9654a782a","name":"HttpRequest.Headers.Token.contentEncoded","resolvers":[{"class":"attribute","attributeDefinitionId":"36d9b9b1-1299-43e2-a290-021e8245dfad","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":"Get issuer from token","valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this.split(\"\\.\")[1]"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"2319f209-651e-4864-884e-cc5341a5b449","name":"HttpRequest.Headers.Token.contentEncoded.contentJSONObject","resolvers":[{"class":"attribute","attributeDefinitionId":"56c095e6-d8f0-41c8-884c-d6d9654a782a","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":"Get JSON From encoded content","valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"new String((T(java.util.Base64).getDecoder().decode(#this)))"}]}},{"type":"coerce","valueType":"JSON"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06","name":"HttpRequest.Headers.Token.contentEncoded.contentJSONObject.issuer","resolvers":[{"class":"attribute","attributeDefinitionId":"2319f209-651e-4864-884e-cc5341a5b449","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":"get issuer","valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"iss"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"ServiceDefinition","id":"b747a2e8-d9d9-48ec-a811-977129cb18aa","name":"PingFederate Token Endpoint","serviceSettings":{"class":"rest","urlFormat":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"https://pingfederate:9031/as/token.oauth2"}]},"body":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"client_id=tokenexchange&client_secret=2FederateM0re&subject_token="},{"@class":"Interpolation","hole":"36d9b9b1-1299-43e2-a290-021e8245dfad","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"&subject_token_type="},{"@class":"Interpolation","hole":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"&grant_type=urn:ietf:params:oauth:grant-type:token-exchange"}]},"verb":"POST","contentType":"application/x-www-form-urlencoded","headers":[],"authenticationType":"NONE","authenticationAttributes":{"@class":"MapTemplate","map":{}},"tlsSettings":{"@class":"TlsSettings","tlsValidationType":"NONE","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null}},"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"serviceResilience":{"maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"timeoutMilliseconds":2000,"maximumRetryCount":2,"holdoffMilliseconds":1000,"retryStrategy":"FIXED","retryJitter":10.0},"secret":false},{"class":"AttributeDefinition","id":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","name":"TokenExchange","resolvers":[{"class":"service","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null,"serviceDefinitionId":"b747a2e8-d9d9-48ec-a811-977129cb18aa"}],"defaultValue":null,"cacheScopeAttributeId":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","cacheTimeToLive":60,"cacheStrategy":"SCOPE_EXPIRE_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"38944753-d9a5-480d-9725-5ef079e860db","name":"TokenExchange.access_token","resolvers":[{"class":"attribute","attributeDefinitionId":"5a7c5699-da65-45f1-8112-e6d7b21b59bc","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":"null","cacheScopeAttributeId":"41754fe3-8dee-4ee5-82b0-094d62aa5b92","cacheTimeToLive":60,"cacheStrategy":"SCOPE_EXPIRE_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"access_token"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"a7889474-0039-3b15-b82c-58eb0640e079","attributeDefinitionId":"38944753-d9a5-480d-9725-5ef079e860db"},{"class":"ConstantNode","id":"ca62ec4f-2ab0-32c9-ba31-b850d2170b2c","constant":"."},{"class":"ComparisonNode","id":"976449d1-3a52-399f-9801-e7065b323b71","lhsInputNode":"a7889474-0039-3b15-b82c-58eb0640e079","rhsInputNode":"ca62ec4f-2ab0-32c9-ba31-b850d2170b2c","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"499bab39-9d9d-301c-80df-66fdc2a6b481","inputNodes":["976449d1-3a52-399f-9801-e7065b323b71"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"30bb9b2b-bb6a-4739-89e5-c6fef0f14975","name":"Validate access token exchanged","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"06b37c35-60b9-3cb5-bb38-da7f5c044ee8","metadataId":"30bb9b2b-bb6a-4739-89e5-c6fef0f14975","effect":"DENY","inputNode":"499bab39-9d9d-301c-80df-66fdc2a6b481"},{"class":"StatementNode","id":"7004b312-2c74-3359-bc2c-4dde7e68697e","inputNode":"06b37c35-60b9-3cb5-bb38-da7f5c044ee8","metadataId":"30bb9b2b-bb6a-4739-89e5-c6fef0f14975","statements":[]},{"class":"TargetMatchNode","id":"1ff8820b-2478-3797-bc36-7118680f51fc","inputNode":"7004b312-2c74-3359-bc2c-4dde7e68697e","metadataId":"30bb9b2b-bb6a-4739-89e5-c6fef0f14975","targets":[]},{"class":"Metadata","originType":"Policy","originId":"703e1794-0b02-47a8-b305-74d3606be298","name":"Validate token exchanged","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"40937554-c6f3-30ff-9f34-93fb0d6dc23e","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["1ff8820b-2478-3797-bc36-7118680f51fc"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"703e1794-0b02-47a8-b305-74d3606be298"},{"class":"StatementTemplate","id":"6f18f66e-adfe-4d27-8293-5a46103e863c","name":"Set deny reason: Token exchange failed","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"Token exchange failed\"}"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"288d9841-41c5-3b41-8d21-1637b599f881","inputNode":"40937554-c6f3-30ff-9f34-93fb0d6dc23e","metadataId":"703e1794-0b02-47a8-b305-74d3606be298","statements":["6f18f66e-adfe-4d27-8293-5a46103e863c"]},{"class":"TargetMatchNode","id":"1abd2e0f-3d8d-3134-82aa-6ab850374c9a","inputNode":"288d9841-41c5-3b41-8d21-1637b599f881","metadataId":"703e1794-0b02-47a8-b305-74d3606be298","targets":[]},{"class":"Metadata","originType":"Policy","originId":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","name":"SendATPolicy","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"0ee7fce6-5fbb-3710-b86a-aeeb2bd7426b","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":[],"inputNodeWeights":[],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef"},{"class":"StatementTemplate","id":"6912b305-37a7-4343-a1d1-039a6e636ba0","name":"Update Authorization Header","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"Authorization\": \"Bearer "},{"@class":"Interpolation","hole":"38944753-d9a5-480d-9725-5ef079e860db","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\", \"issuer\":\""},{"@class":"Interpolation","hole":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\"}"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"8992ec9e-0d9b-3531-97e5-2cbae700e80d","inputNode":"0ee7fce6-5fbb-3710-b86a-aeeb2bd7426b","metadataId":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","statements":["6912b305-37a7-4343-a1d1-039a6e636ba0"]},{"class":"TargetMatchNode","id":"0f4954c2-de82-36ea-beaf-fe15a9edcf69","inputNode":"8992ec9e-0d9b-3531-97e5-2cbae700e80d","metadataId":"5aac7b0b-ba8b-49bc-aa50-7aa793da91ef","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"416ba769-c7cb-4fa7-822c-f7fe4ecf3f6e","name":"Inbound","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"293a26aa-b260-31c7-9005-aca567004afb","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["1abd2e0f-3d8d-3134-82aa-6ab850374c9a","0f4954c2-de82-36ea-beaf-fe15a9edcf69"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"416ba769-c7cb-4fa7-822c-f7fe4ecf3f6e"},{"class":"StatementNode","id":"782119e8-b316-3b88-9a26-f72ff1db88e1","inputNode":"293a26aa-b260-31c7-9005-aca567004afb","metadataId":"416ba769-c7cb-4fa7-822c-f7fe4ecf3f6e","statements":[]},{"class":"Target","id":"b24ab37e-cb51-4816-86f3-0e13bee27e13","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["inbound-GET"]},{"class":"TargetMatchNode","id":"15ad0462-dbdf-3968-828e-59a060cb6d95","inputNode":"782119e8-b316-3b88-9a26-f72ff1db88e1","metadataId":"416ba769-c7cb-4fa7-822c-f7fe4ecf3f6e","targets":["b24ab37e-cb51-4816-86f3-0e13bee27e13"]},{"class":"AttributeNode","id":"9dc99547-7bce-35d1-88ec-4a64d48bcfb6","attributeDefinitionId":"7b25b435-a7b6-4ff0-beda-0d8bfa189c06"},{"class":"ConstantNode","id":"a79cb2c9-f793-3d7c-bd9d-8cc3c263569b","constant":"pingone"},{"class":"ComparisonNode","id":"0d83dbc1-39fd-3f70-9447-712ac090b0dd","lhsInputNode":"9dc99547-7bce-35d1-88ec-4a64d48bcfb6","rhsInputNode":"a79cb2c9-f793-3d7c-bd9d-8cc3c263569b","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"72c1e326-fe1b-399c-8731-b9fafda457d7","inputNodes":["0d83dbc1-39fd-3f70-9447-712ac090b0dd"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"c173c59c-8d09-46da-8e8f-04e8d535bc79","name":"Filter issuer value","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"5cc19f43-6102-38e2-8374-b4b5d4aa17f9","metadataId":"c173c59c-8d09-46da-8e8f-04e8d535bc79","effect":"PERMIT","inputNode":"72c1e326-fe1b-399c-8731-b9fafda457d7"},{"class":"StatementTemplate","id":"e201817e-0e6b-4c69-8c0b-73b881b21dfa","name":"Filter issuer","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"exclude-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"[\"issuer\"]"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"f8417097-bfb2-3418-9af4-ec8b6f58fe66","inputNode":"5cc19f43-6102-38e2-8374-b4b5d4aa17f9","metadataId":"c173c59c-8d09-46da-8e8f-04e8d535bc79","statements":["e201817e-0e6b-4c69-8c0b-73b881b21dfa"]},{"class":"TargetMatchNode","id":"d573c254-82b4-36b5-9933-1ed2166d38bf","inputNode":"f8417097-bfb2-3418-9af4-ec8b6f58fe66","metadataId":"c173c59c-8d09-46da-8e8f-04e8d535bc79","targets":[]},{"class":"Metadata","originType":"Policy","originId":"06cbd961-dd04-4295-b8cc-1236dfe45131","name":"Filter rule","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"3c4e4836-e720-3dce-bd63-e42c5f781b49","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["d573c254-82b4-36b5-9933-1ed2166d38bf"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"06cbd961-dd04-4295-b8cc-1236dfe45131"},{"class":"StatementNode","id":"0174783f-aadc-365b-b9ec-ec04b9be4b6e","inputNode":"3c4e4836-e720-3dce-bd63-e42c5f781b49","metadataId":"06cbd961-dd04-4295-b8cc-1236dfe45131","statements":[]},{"class":"TargetMatchNode","id":"566b61da-f86e-31fd-9894-4c94b7464cf0","inputNode":"0174783f-aadc-365b-b9ec-ec04b9be4b6e","metadataId":"06cbd961-dd04-4295-b8cc-1236dfe45131","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"7a91b84d-a841-4c0a-9bab-1ed586dde5bd","name":"Outbound","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"40a3881e-e31a-3418-871e-904204cb6966","combiningAlgorithm":{"name":"PermitOverrides"},"inputNodes":["566b61da-f86e-31fd-9894-4c94b7464cf0"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"7a91b84d-a841-4c0a-9bab-1ed586dde5bd"},{"class":"StatementNode","id":"dc9e7014-850f-3c56-9847-73982c7b56a6","inputNode":"40a3881e-e31a-3418-871e-904204cb6966","metadataId":"7a91b84d-a841-4c0a-9bab-1ed586dde5bd","statements":[]},{"class":"Target","id":"ba30ec12-1262-4095-9a41-8090114611cf","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["outbound-GET"]},{"class":"TargetMatchNode","id":"c7e66835-17be-39b3-b698-e3b715be7fed","inputNode":"dc9e7014-850f-3c56-9847-73982c7b56a6","metadataId":"7a91b84d-a841-4c0a-9bab-1ed586dde5bd","targets":["ba30ec12-1262-4095-9a41-8090114611cf"]},{"class":"Metadata","originType":"PolicySet","originId":"f52f190c-68b6-4a27-8bf4-00e615ff34a2","name":"Token Exchange Policy","properties":{},"disabled":false,"repetitionSettings":null},{"class":"AttributeDefinition","id":"618d0e40-6e74-4370-b896-7c114011667a","name":"HttpRequest.RequestURI","resolvers":[{"class":"attribute","attributeDefinitionId":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"RequestURI"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"6e9580eb-d634-3206-a3c8-a429bfd64217","attributeDefinitionId":"618d0e40-6e74-4370-b896-7c114011667a"},{"class":"ConstantNode","id":"6017049b-dfd6-3a73-8853-fdaac2736720","constant":"/mockapi"},{"class":"ComparisonNode","id":"a2b97105-b8b4-3a88-bc2c-4cdf83f29264","lhsInputNode":"6e9580eb-d634-3206-a3c8-a429bfd64217","rhsInputNode":"6017049b-dfd6-3a73-8853-fdaac2736720","operator":"CONTAINS"},{"class":"BooleanLogicNode","id":"2e170564-6008-33d0-b53a-6c62b139cd6f","inputNodes":["a2b97105-b8b4-3a88-bc2c-4cdf83f29264"],"operator":"and"},{"class":"CombinedDecisionNode","id":"6939d633-887d-3977-86bb-ddfd026d51e7","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["15ad0462-dbdf-3968-828e-59a060cb6d95","c7e66835-17be-39b3-b698-e3b715be7fed"],"inputNodeWeights":[100,100],"guardNode":"2e170564-6008-33d0-b53a-6c62b139cd6f","originLink":"f52f190c-68b6-4a27-8bf4-00e615ff34a2"},{"class":"StatementNode","id":"205b75f2-b97f-3445-99a2-d774af2139b5","inputNode":"6939d633-887d-3977-86bb-ddfd026d51e7","metadataId":"f52f190c-68b6-4a27-8bf4-00e615ff34a2","statements":[]},{"class":"TargetMatchNode","id":"6a5b24d4-e7ba-34af-8b0e-0e8405f6643f","inputNode":"205b75f2-b97f-3445-99a2-d774af2139b5","metadataId":"f52f190c-68b6-4a27-8bf4-00e615ff34a2","targets":[]},{"class":"Metadata","originType":"Policy","originId":"82daf97e-abdf-4882-99d0-5410cec0fdfc","name":"Combine JWKS","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"dc3f9ea6-8603-314a-88a3-5c103b124113","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":[],"inputNodeWeights":[],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"82daf97e-abdf-4882-99d0-5410cec0fdfc"},{"class":"ServiceDefinition","id":"a7a0cc05-e9b4-4b0c-be29-d3b481caf3b8","name":"External JWKS","serviceSettings":{"class":"rest","urlFormat":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"https://auth.pingone.com/9ece2ae4-34f5-4184-9cf0-7432cdd035ad/as/jwks"}]},"body":{"@class":"JoiningTemplate","components":[]},"verb":"GET","contentType":"application/json","headers":[],"authenticationType":"NONE","authenticationAttributes":{"@class":"MapTemplate","map":{}},"tlsSettings":{"@class":"TlsSettings","tlsValidationType":"DEFAULT","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null}},"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"serviceResilience":{"maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"timeoutMilliseconds":2000,"maximumRetryCount":2,"holdoffMilliseconds":1000,"retryStrategy":"FIXED","retryJitter":10.0},"secret":false},{"class":"AttributeDefinition","id":"baca1a1d-1f36-4799-ad7f-2908f042a9f5","name":"External JWKS Endpoint","resolvers":[{"class":"service","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null,"serviceDefinitionId":"a7a0cc05-e9b4-4b0c-be29-d3b481caf3b8"}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":60,"cacheStrategy":"EXPIRE_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"30f4a938-a4a4-4cef-a49c-b19e2265ef35","name":"External JWKS Endpoint.keys","resolvers":[{"class":"attribute","attributeDefinitionId":"baca1a1d-1f36-4799-ad7f-2908f042a9f5","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"keys"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"ServiceDefinition","id":"fa46a613-3a91-4ed7-b33a-668ad5000de3","name":"PingFederate JWKS","serviceSettings":{"class":"rest","urlFormat":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"https://pingfederate:9031/pf/JWKS"}]},"body":{"@class":"JoiningTemplate","components":[]},"verb":"GET","contentType":"application/json","headers":[],"authenticationType":"NONE","authenticationAttributes":{"@class":"MapTemplate","map":{}},"tlsSettings":{"@class":"TlsSettings","tlsValidationType":"NONE","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null}},"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"serviceResilience":{"maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"timeoutMilliseconds":2000,"maximumRetryCount":2,"holdoffMilliseconds":1000,"retryStrategy":"FIXED","retryJitter":10.0},"secret":false},{"class":"AttributeDefinition","id":"ba3a4a9b-a98a-436b-a7b6-50bcf0ff3724","name":"PingFederate JWKS Endpoint","resolvers":[{"class":"service","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null,"serviceDefinitionId":"fa46a613-3a91-4ed7-b33a-668ad5000de3"}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":60,"cacheStrategy":"EXPIRE_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"25f1e66b-1640-41d1-a7ec-ba9b715362ed","name":"PingFederate JWKS Endpoint.keys","resolvers":[{"class":"attribute","attributeDefinitionId":"ba3a4a9b-a98a-436b-a7b6-50bcf0ff3724","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":"Get keys","valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"keys"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"726cb8f8-d938-401e-a7fa-913ae2ab574f","name":"Consolidated JWKS","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":60,"cacheStrategy":"EXPIRE_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"(T(org.apache.commons.collections4.CollectionUtils).union("},{"@class":"Interpolation","hole":"30f4a938-a4a4-4cef-a49c-b19e2265ef35","safelyInterpolatable":false},{"@class":"FixedTemplate","x":", "},{"@class":"Interpolation","hole":"25f1e66b-1640-41d1-a7ec-ba9b715362ed","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"))"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"StatementTemplate","id":"e891d1a6-4ab3-48f9-aa68-ba987fa1c049","name":"Add external keys","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"keys\": "},{"@class":"Interpolation","hole":"726cb8f8-d938-401e-a7fa-913ae2ab574f","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"}"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"c6de088f-a324-335b-8685-9468e80527e5","inputNode":"dc3f9ea6-8603-314a-88a3-5c103b124113","metadataId":"82daf97e-abdf-4882-99d0-5410cec0fdfc","statements":["e891d1a6-4ab3-48f9-aa68-ba987fa1c049"]},{"class":"TargetMatchNode","id":"39963f5e-47b1-3e06-b082-c06d188c40c4","inputNode":"c6de088f-a324-335b-8685-9468e80527e5","metadataId":"82daf97e-abdf-4882-99d0-5410cec0fdfc","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"71af4409-229c-42fa-ade8-238a31fbdff1","name":"Consolidated JWKS Endpoint","properties":{},"disabled":false,"repetitionSettings":null},{"class":"ConstantNode","id":"49eea6a6-ca45-3732-92a6-290b83c12642","constant":"/pf/JWKS"},{"class":"ComparisonNode","id":"8cf2f894-38c7-3450-9f13-db081371147a","lhsInputNode":"6e9580eb-d634-3206-a3c8-a429bfd64217","rhsInputNode":"49eea6a6-ca45-3732-92a6-290b83c12642","operator":"ENDS_WITH"},{"class":"BooleanLogicNode","id":"1b09cbb8-07b4-38f2-bdba-4bbc9cdff8e1","inputNodes":["8cf2f894-38c7-3450-9f13-db081371147a"],"operator":"and"},{"class":"CombinedDecisionNode","id":"bf1fe1a3-9383-3ed7-aada-c0dcd8c765a5","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["39963f5e-47b1-3e06-b082-c06d188c40c4"],"inputNodeWeights":[100],"guardNode":"1b09cbb8-07b4-38f2-bdba-4bbc9cdff8e1","originLink":"71af4409-229c-42fa-ade8-238a31fbdff1"},{"class":"StatementNode","id":"eeecdb1f-1e27-3a58-8635-0ddc056d3859","inputNode":"bf1fe1a3-9383-3ed7-aada-c0dcd8c765a5","metadataId":"71af4409-229c-42fa-ade8-238a31fbdff1","statements":[]},{"class":"Target","id":"944ac78e-7028-4e13-bc0f-101758e703f7","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["outbound-GET","inbound-GET"]},{"class":"TargetMatchNode","id":"fddf647d-6ce4-3756-a1c1-6375461061af","inputNode":"eeecdb1f-1e27-3a58-8635-0ddc056d3859","metadataId":"71af4409-229c-42fa-ade8-238a31fbdff1","targets":["944ac78e-7028-4e13-bc0f-101758e703f7"]},{"class":"Metadata","originType":"PolicySet","originId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","name":"Global Decision Point","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"1fa307da-a7c9-3576-bfee-b669513841ae","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["6a5b24d4-e7ba-34af-8b0e-0e8405f6643f","fddf647d-6ce4-3756-a1c1-6375461061af"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1"},{"class":"StatementNode","id":"6841b386-5ed6-355e-9655-1c7c04632de9","inputNode":"1fa307da-a7c9-3576-bfee-b669513841ae","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","statements":[]},{"class":"TargetMatchNode","id":"ad5b6e0e-f6f7-3053-9bfd-e4e566448d4d","inputNode":"6841b386-5ed6-355e-9655-1c7c04632de9","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","targets":[]},{"@class":"DataStreamFooter","digest":"z2FYcRd1v1z7c4LxChBLVNzPI9t74MVsnhfPaLKGyZY="}]